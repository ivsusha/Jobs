<div class="container">
  <div class="row">
    <div class="col-xs-9 col-md-10">
      <h3 class="col-xs-12">History </h3>
    </div>
    <div class="col-xs-3 col-md-2">
        <button type="button" class="btn btn-outline-secondary mybtn" (click)="onBack()" style="float:right">Back</button>
      <!--
      <div class="input-group pull-left">
        <input type="search" [(ngModel)]="mySearch1" class="form-control" placeholder="search...">
 
        <span class="input-group-btn">
          <button class="btn" type="button" (click)="onSearch()">
           <i class="fa fa-search" aria-hidden="true"></i> 
          </button>
        </span>

      </div>
    -->
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
    </div>
  </div>
  <div class="form-row" >
  
    <div class="col-xs-12 col-md-8">
      <div class="form-inline">
        <div class="form-group">
         <div class ="col-xs-2 col-md-2"> <label for="tasksl">Task:</label></div>
         <div class="col-xs-5 col-md-3">
          <ss-multiselect-dropdown class="dropdown-item.secondary" style="color:black"[options]="myOptions" [(ngModel)]="optionsModel" [settings]="mySettings" id="tasksl" name="tasksl" (ngModelChange)="onChange($event)"></ss-multiselect-dropdown>
        </div>
        </div>
        <div class="col-xs-4 col-md-2">
        
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="checkAll" name="checkAll" [(ngModel)]="checkAll" (change)="onCheck()">
          <label class="form-check-label" for="checkAll" >All tasks</label>
        </div>
      
      </div>
        <div class="col-xs-2 col-md-2">
       <!--   <button type="button" class="btn btn-outline-primary" (click)="onShow(optionsModel)">Show history</button> -->
        </div>
        </div>
       
      </div> 
  </div>
<div class="row"><div class="col-xs-12"></div></div>
  <hr style="border-color:rgb(180, 214, 245)">
  <div class="row">

    <div class="col-xs-12 col-md-12">
      <div class="container">

        <div class="table-responsive" style="margin-left:-15px;" >
          <table class="table table-hover"  sortable-table (sorted)="onSorted($event)">
            <thead>
              <tr>
                <th>Task name</th>
                <th sortable-column="StartDate">StartDate</th>
                <th>Response Body</th>
                <th>Status</th>
                <th style="border-right:0px;">Duration</th>
                <th style="border-right:0px;"></th>
              </tr>              
            </thead>
            <tbody>
                <tr>
                    <td>  <input type="text" class="form-control" name="taskname" id="taskname"  [(ngModel)]="tname"> </td>
                      <td style="width:310px;"><tr><td style="padding:0px;border-top:0px;width:150px;">
                        <input type="text" class="form-control" name="sdate" id="sdate" placeholder="yyyy-MM-dd" [(ngModel)]="sdate"> </td>
                        <td style="padding:0px;padding-left:5px;border-top:0px;width:150px;">
                          <input type="text" class="form-control" name="edate" id="edate" placeholder="yyyy-MM-dd" [(ngModel)]="edate"> </td>
                          
                      </tr> 
                      </td>
                      <td> <input type="text" class="form-control" name="body" id="body"  [(ngModel)]="body"></td>
                      <td>  <select class="custom-select" id="exampleFormControlSelect1"  [(ngModel)]="status">
                          <option>active</option>
                          <option>failed</option>
                          </select>
                      </td>
                      <td style="width:80px;"> <input type="text" class="form-control" name="dur" id="dur"  [(ngModel)]="dur"></td>
                      <td ><button class = "btn btn-light"(click)="onTransform({'tname':tname,'sdate':sdate,'edate':edate,'body':body,'status':status,'dur':dur})"><i class="fa fa-arrow-circle-down" ></i></button></td>
                    </tr>
              <tr *ngFor="let history of myHistory['models'] |findhistory:mySearch">
                <td>
                  <a [routerLink]="['/history',history['_id'] ]">{{history.taskName}} </a>
                </td>
                <td>{{history.StartDate}}</td>
                <td>{{history.ResponseBody.substring(0,30)+'...'}}</td>
                <td>{{history.ResponseStatus}}</td>
                <td>{{history.Duration}}</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
        <ul style="display:none" class="pagination" *ngIf="pageToken !=null && pageToken != 'end'" >
          <li class="page-item">
             
              <a class="page-link" (click)="onNext()"  id ="next" style="cursor:pointer">Next Page</a>         
          </li>
          </ul>
    <!--    <button type="button" class="btn btn-outline-primary mybtn" (click)="onNext()"  id ="next" >Next Page</button> -->
      </div>
    </div>

  </div>
  <!--
<div class="row">
  <div class="col-xs-2">
      <button type="button" class="btn btn-secondary" (click) = "onBack()">Back</button>
  </div>
</div>
-->
</div>